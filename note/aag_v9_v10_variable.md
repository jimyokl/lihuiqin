
一个进程的虚拟空间在32位机器上是4g，0-3g是用户态，3-4g是留给内核使用
![image](https://github.com/jimyokl/lihuiqin/blob/main/media/%E8%BF%90%E8%A1%8C%E4%B8%AD%E7%9A%84C%E8%AF%AD%E8%A8%80%E5%86%85%E5%AD%98%E5%B8%83%E5%B1%80.png)
代码段（Text Segment）：存储程序的机器代码，不可修改。
数据段（Data Segment）：存储已初始化的全局变量和静态变量。static 变量通常会存储在这个区域。
  -初始化数据段（Initialized Data Segment）：存储已初始化的全局变量和 static 变量。
  -未初始化数据段（BSS Segment）：存储未初始化的全局变量和 static 变量(即声明了但没有显式赋值的)
                                帮助节省内存和磁盘空间
堆（Heap）：存储动态分配的内存（如通过 malloc() 等函数分配的内存）。
栈（Stack）：存储局部变量和函数调用时的执行信息。
  -有2种分配方式：静态分配和动态分配（auto变量在这里），静态分配是编译器完成的，比如局部变量的分配。
  -动态分配由函数malloc进行分配。不过栈的动态分配和堆不同，他的动态分配是由编译器进行释放，无需我们手工实现。

[存储类型] 数据类型 标识符 =   值
            TYPE    NAME = VALUE

数据类型: 基本数据类型 + 构造类型
值      : 注意匹配，不要损失精度
存储类型: 
        定义型关键字：auto static register 
                     auto：默认，自动分配空间，自动回收空间
                     register: (建议型) 寄存器类型，如果使用特别频繁（例如10万次），则建议编译器放寄存器，
                                由gcc决定是否放寄存器。
                            -只能定义局部变量，不能定义全局变量;大小有限制，只能定义32位大小的数据类型(根据寄存器 大小,64位机器可能是64)，如double就不行。
                            -寄存器变量没有地址，一个寄存器类型的变量无法打印出地址查看或使用。
                            -inline也是建议型关键字,只能建议把函数作为内联函数处理,是否满足要求由编译器决定.
                            --将函数体直接插入到函数被调用的位置，以减少函数调用开销，提高程序执行效率。 
                              inline内联函数的原理：在编译时，将函数体复制到每个调用该函数的地方 
            一个进程在32位电脑的虚拟空间是4G,0-3G是用户态可用范围（实际使用范围的起始地址不是0），3G-4G是内核使用的，
                    static:静态型，自动初始化为0值或空值，并且其变量的值有继承性。另外也可用于修饰函数，
        说明型关键字：extern
                extern:说明型，说明有一个定义，不在这里，去在别的地方(文件)找，意味着不能改变被说明的变量的值和类型

全局变量的作用范围（作用域）是整个程序。具体来说：
  1.文件作用域：全局变量在定义它的文件中从定义位置开始，直到文件末尾都可见。这意味着在定义之后的任何函数中都可以访问 
    该全局变量。
  2.外部链接：如果全局变量在定义时没有使用static关键字，那么它具有外部链接（external linkage），即其他文件通过
    extern 声明也可以访问该全局变量。
  3.静态全局变量：如果全局变量在定义时使用了static关键字，那么它具有内部链接（internal linkage），即只能在定义它
    的文件中访问，其他文件无法访问。

global variable注意事项：

1. eg fopen函数返回的errno，是全局变量，需要返回后马上使用，否则可能会是其他函数返回值。
2. 在多线程程序中，它是每个线程独立的（通过线程局部存储实现），可以通过 errno 获取当前线程的错误代码，而不会受到其他
   线程的影响。

Thread-local storage (线程局部存储
线程局部存储（英语：Thread-local storage，缩写：TLS）是一种存储持续期（storage duration），对象的存储是在线程开始时分配，线程结束时回收，每个线程有该对象自己的实例。

